"use strict";(globalThis.webpackChunkspeediful_docs=globalThis.webpackChunkspeediful_docs||[]).push([[809],{8453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>l});var i=t(6540);const r={},o=i.createContext(r);function s(e){const n=i.useContext(o);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),i.createElement(o.Provider,{value:n},e.children)}},9001:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>s,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"file-operations/SLAM_load_blob","title":"SLAM_load_blob","description":"Files can be loaded to ContentVersion, ContentNote, Attachment and Document in a similar fashion to loading record data. To instruct SLAM to upload files, set @api=\'blob\'. Provide the path to the file in the binary field and ensure all other required fields are supplied. Specifically, this means:","source":"@site/docs/file-operations/SLAM_load_blob.md","sourceDirName":"file-operations","slug":"/file-operations/SLAM_load_blob","permalink":"/file-operations/SLAM_load_blob","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"SLAM_download_blobs","permalink":"/file-operations/SLAM_download_blobs"},"next":{"title":"Utility Functions","permalink":"/category/utility-functions"}}');var r=t(4848),o=t(8453);const s={},l="SLAM_load_blob",d={},a=[{value:"Inserting Files",id:"inserting-files",level:2},{value:"Updating files",id:"updating-files",level:2}];function c(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"slam_load_blob",children:"SLAM_load_blob"})}),"\n",(0,r.jsxs)(n.p,{children:["Files can be loaded to ContentVersion, ContentNote, Attachment and Document in a similar fashion to loading record data. To instruct SLAM to upload files, set ",(0,r.jsx)(n.code,{children:"@api='blob'"}),". Provide the path to the file in the binary field and ensure all other required fields are supplied. Specifically, this means:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"ContentNote"}),": put the path to the file in field ",(0,r.jsx)(n.code,{children:"Content"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"ContentVersion"}),": put the path to the file in field ",(0,r.jsx)(n.code,{children:"VersionData"})," and ",(0,r.jsx)(n.code,{children:"PathoOnClient"}),". Salesforce requires ",(0,r.jsx)(n.code,{children:"PathOnClient"})," for its own ",(0,r.jsx)(n.code,{children:"FileType"})," determination"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"Attachment"}),": put the path to the file in field ",(0,r.jsx)(n.code,{children:"Body"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"Document"}),": put the path to the file in field ",(0,r.jsx)(n.code,{children:"Body"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Example ContentVersion table:"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Id"}),(0,r.jsx)(n.th,{children:"Title"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"PathOnClient"}),(0,r.jsx)(n.th,{children:"VersionData"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"NULL"}),(0,r.jsx)(n.td,{children:"Test Document 1"}),(0,r.jsx)(n.td,{children:"Test Document 1 Description"}),(0,r.jsx)(n.td,{children:"C:\\SLAM_blob\\demo document 1.txt"}),(0,r.jsx)(n.td,{children:"C:\\SLAM_blob\\demo document 1.txt"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"NULL"}),(0,r.jsx)(n.td,{children:"Test Document 2"}),(0,r.jsx)(n.td,{children:"Test Document 2 Description"}),(0,r.jsx)(n.td,{children:"C:\\SLAM_blob\\demo document 2.txt"}),(0,r.jsx)(n.td,{children:"C:\\SLAM_blob\\demo document 2.txt"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"NULL"}),(0,r.jsx)(n.td,{children:"Large Image"}),(0,r.jsx)(n.td,{children:"Large Image Description"}),(0,r.jsx)(n.td,{children:"C:\\SLAM_blob\\large image.bmp"}),(0,r.jsx)(n.td,{children:"C:\\SLAM_blob\\large image.bmp"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:"Example ContentNote table:"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Id"}),(0,r.jsx)(n.th,{children:"Title"}),(0,r.jsx)(n.th,{children:"Content"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"NULL"}),(0,r.jsx)(n.td,{children:"demo document 2.txt"}),(0,r.jsx)(n.td,{children:"C:\\SLAM_blob\\demo document 2.txt"})]})})]}),"\n",(0,r.jsx)(n.h2,{id:"inserting-files",children:"Inserting Files"}),"\n",(0,r.jsxs)(n.p,{children:["To insert files, set ",(0,r.jsx)(n.code,{children:"@api = 'blob'"}),". SLAM will automatically manage the API selection and file upload process to ensure files of any size (up to the 2GB limit of Salesforce) are uploaded. This means the ",(0,r.jsx)(n.code,{children:"@batch_size"})," parameter is ignored"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Usage Example:"})}),"\n",(0,r.jsx)(n.p,{children:"Inserting files:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"CREATE TABLE ContentVersion_insert (\r\n    Id NVARCHAR(18),\r\n    Title NVARCHAR(255),\r\n    Description NVARCHAR(255),\r\n    PathOnClient NVARCHAR(255),\r\n    VersionData NVARCHAR(255)\r\n)\r\n\r\nINSERT INTO ContentVersion_insert(\r\n    Title,\r\n    Description,\r\n    PathOnClient,\r\n    VersionData\r\n)\r\nVALUES (\r\n    'Test Document 1',\r\n    'Test Document 1 Description',\r\n    'C:\\SLAM_blob\\demo document 1.txt',\r\n    'C:\\SLAM_blob\\demo document 1.txt'\r\n)\r\n\r\nEXEC dbo.SLAM_load\r\n    @sObject = 'ContentVersion',\r\n    @table = 'ContentVersion_insert',\r\n    @api = 'blob',\r\n    @operation = 'insert'\n"})}),"\n",(0,r.jsx)(n.h2,{id:"updating-files",children:"Updating files"}),"\n",(0,r.jsx)(n.p,{children:"SLAM can either update just the attributes of uploaded files (e.g. Description, Name or Title) or where permitted, update the attributes and replace the file itself."}),"\n",(0,r.jsxs)(n.admonition,{type:"tip",children:[(0,r.jsxs)(n.p,{children:["To update attributes only, use ",(0,r.jsx)(n.code,{children:"@api"})," of ",(0,r.jsx)(n.code,{children:"'soap'"}),", ",(0,r.jsx)(n.code,{children:"'bulk'"}),", or ",(0,r.jsx)(n.code,{children:"'bulkv2'"}),". The binary field will be ignored"]}),(0,r.jsxs)(n.p,{children:["To replace the file, use ",(0,r.jsx)(n.code,{children:"@api = 'blob'"}),". This instructs SLAM to upload the file along with the attributes."]})]}),"\n",(0,r.jsxs)(n.p,{children:["Salesforce only permits Attachment and Document objects to replace the file. This type of operation is not permitted for the versioned objects ContentVersion and ContentNote - instead you must upload a new version via insert. Therefore you cannot combine ",(0,r.jsx)(n.code,{children:"@operation = 'update'"})," with ",(0,r.jsx)(n.code,{children:"@api = 'blob'"})," for ContentVersion or ContentNote."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Usage Examples:"})}),"\n",(0,r.jsx)(n.p,{children:"Updating file attributes only:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"CREATE TABLE Document_update (\r\n    Id NVARCHAR(18),\r\n    Name NVARCHAR(255),\r\n    Description NVARCHAR(255)\r\n)\r\n\r\nINSERT INTO Document_update (Id, Name, Description)\r\nVALUES\r\n    ('015As000007omqDIAQ', 'Updated Name', 'Updated Description')\r\n\r\nEXEC dbo.SLAM_load\r\n    @sObject = 'Document',\r\n    @table = 'Document_update',\r\n    @api = 'bulk',\r\n    @operation = 'update'\n"})}),"\n",(0,r.jsx)(n.p,{children:"Updating file attributes and replacing the file:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"CREATE TABLE Document_update (\r\n    Id NVARCHAR(18),\r\n    Name NVARCHAR(255),\r\n    Description NVARCHAR(255),\r\n    Body NVARCHAR(255)\r\n)\r\n\r\nINSERT INTO Document_update (Id, Name, Description, Body)\r\nVALUES\r\n    ('015As000007omqDIAQ', 'Updated Name', 'Updated Description', 'C:\\SLAM_Blob\\replacement file.txt')\r\n\r\nEXEC dbo.SLAM_load\r\n    @sObject = 'Document',\r\n    @table = 'Document_update',\r\n    @api = 'blob',\r\n    @operation = 'update'\n"})})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}}}]);