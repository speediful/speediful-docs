"use strict";(globalThis.webpackChunkspeediful_docs=globalThis.webpackChunkspeediful_docs||[]).push([[3764],{3297:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>l,contentTitle:()=>d,default:()=>u,frontMatter:()=>c,metadata:()=>t,toc:()=>a});const t=JSON.parse('{"id":"utility-functions/SLAM_merge","title":"SLAM_merge","description":"Overview","source":"@site/docs/utility-functions/SLAM_merge.mdx","sourceDirName":"utility-functions","slug":"/utility-functions/SLAM_merge","permalink":"/utility-functions/SLAM_merge","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":50,"frontMatter":{"sidebar_position":50},"sidebar":"tutorialSidebar","previous":{"title":"SLAM_table_template","permalink":"/utility-functions/SLAM_table_template"},"next":{"title":"SLAM_record_counts","permalink":"/utility-functions/SLAM_record_counts"}}');var i=n(4848),o=n(8453),s=n(8787);const c={sidebar_position:50},d="SLAM_merge",l={},a=[{value:"Overview",id:"overview",level:2},{value:"Parameters",id:"parameters",level:2},{value:"Usage Examples",id:"usage-examples",level:2}];function h(e){const r={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.header,{children:(0,i.jsx)(r.h1,{id:"slam_merge",children:"SLAM_merge"})}),"\n",(0,i.jsx)(r.h2,{id:"overview",children:"Overview"}),"\n",(0,i.jsxs)(r.p,{children:["Merges Salesforce records using the SOAP API merge operation. The victim records are deleted and their data is merged into the winner record. The merge operation uses the ",(0,i.jsx)(r.a,{href:"https://developer.salesforce.com/docs/atlas.en-us.api.meta/api/sforce_api_calls_merge.htm",children:"Salesforce merge() API"})," and is subject to it's limitations. For example, a merge will fail if AccountContactRelationship Salesforce object is in use and the merge would result in two or more AccountContactRelationship records from the winner Contact to the same Account. The AccountContactRelationship data would have to be cleaned up first."]}),"\n",(0,i.jsx)(r.h2,{id:"parameters",children:"Parameters"}),"\n",(0,i.jsx)(s.A,{children:(0,i.jsxs)(r.table,{children:[(0,i.jsx)(r.thead,{children:(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.th,{children:"Name"}),(0,i.jsx)(r.th,{children:"Type"}),(0,i.jsx)(r.th,{children:"Default"}),(0,i.jsx)(r.th,{children:"Description"})]})}),(0,i.jsxs)(r.tbody,{children:[(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"@sObject"})}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"NVARCHAR"})}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"Required"})}),(0,i.jsx)(r.td,{children:"Salesforce object type (typically 'Account', 'Contact', or 'Lead')"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"@winner_id"})}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"NVARCHAR"})}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"Required"})}),(0,i.jsx)(r.td,{children:"Salesforce ID of the record to keep (master record)"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"@victim_id1"})}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"NVARCHAR"})}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"Required"})}),(0,i.jsx)(r.td,{children:"Salesforce ID of the first record to merge into winner"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"@victim_id2"})}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"NVARCHAR"})}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"NULL"})}),(0,i.jsx)(r.td,{children:"Salesforce ID of the second record to merge into winner"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"@portal_id"})}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"NVARCHAR"})}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"NULL"})}),(0,i.jsx)(r.td,{children:"Portal ID for account merges involving portal users"})]})]})]})}),"\n",(0,i.jsx)(r.h2,{id:"usage-examples",children:"Usage Examples"}),"\n",(0,i.jsx)(r.p,{children:"Merge two Account records:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-sql",children:"EXEC dbo.SLAM_merge\r\n    @sObject = 'Account',\r\n    @winner_id = '0011234567890ABCAA',\r\n    @victim_id1 = '0011234567890DEFAA';\n"})}),"\n",(0,i.jsx)(r.p,{children:"Merge three Account records:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-sql",children:"EXEC dbo.SLAM_merge\r\n    @sObject = 'Account',\r\n    @winner_id = '0011234567890ABCAA',\r\n    @victim_id1 = '0011234567890DEFAA',\r\n    @victim_id2 = '0011234567890GHIAA';\n"})}),"\n",(0,i.jsx)(r.p,{children:"Merge Contact records:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-sql",children:"EXEC dbo.SLAM_merge\r\n    @sObject = 'Contact',\r\n    @winner_id = '0031234567890ABCAA',\r\n    @victim_id1 = '0031234567890DEFAA';\n"})})]})}function u(e={}){const{wrapper:r}={...(0,o.R)(),...e.components};return r?(0,i.jsx)(r,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},8453:(e,r,n)=>{n.d(r,{R:()=>s,x:()=>c});var t=n(6540);const i={},o=t.createContext(i);function s(e){const r=t.useContext(o);return t.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function c(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),t.createElement(o.Provider,{value:r},e.children)}},8787:(e,r,n)=>{n.d(r,{A:()=>a});var t=n(6540),i=n(3427),o=n(6347);const s={apiTable:"apiTable_e8hp"};var c=n(4848);function d({name:e,children:r},n){const s=function(e){let r=e;for(;(0,t.isValidElement)(r);)[r]=t.Children.toArray(r.props.children);if("string"!=typeof r)throw new Error(`Could not extract APITable row name from JSX tree:\n${JSON.stringify(e,null,2)}`);return r}(r),d=e?`${e}-${s}`:s,l=`#${d}`,a=(0,o.W6)();return(0,i.A)().collectAnchor(d),(0,c.jsx)("tr",{id:d,tabIndex:0,ref:a.location.hash===l?n:void 0,onClick:e=>{const r="TD"===e.target.tagName.toUpperCase(),n=!!window.getSelection()?.toString();if(r&&!n){const e=window.scrollX,r=window.scrollY;a.push(l),window.scrollTo(e,r),requestAnimationFrame(()=>{window.scrollTo(e,r)})}},onKeyDown:e=>{if("Enter"===e.key){const e=window.scrollX,r=window.scrollY;a.push(l),window.scrollTo(e,r),requestAnimationFrame(()=>{window.scrollTo(e,r)})}},children:r.props.children})}const l=t.forwardRef(d);function a({children:e,name:r}){if("table"!==e.type)throw new Error("Bad usage of APITable component.\nIt is probably that your Markdown table is malformed.\nMake sure to double-check you have the appropriate number of columns for each table row.");const[n,i]=t.Children.toArray(e.props.children),o=(0,t.useRef)(null);(0,t.useEffect)(()=>{o.current&&(o.current.focus(),o.current.scrollIntoView({behavior:"smooth",block:"center"}))},[]);const d=t.Children.map(i.props.children,e=>(0,c.jsx)(l,{name:r,ref:o,children:e}));return(0,c.jsxs)("table",{className:s.apiTable,children:[n,(0,c.jsx)("tbody",{children:d})]})}}}]);