"use strict";(globalThis.webpackChunkspeediful_docs=globalThis.webpackChunkspeediful_docs||[]).push([[757],{5615:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>u,frontMatter:()=>i,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"utility-functions/SLAM_download_job","title":"SLAM_download_job","description":"In case of client disconnection, Speediful can re-download bulk jobs that it submitted. This process will not work with jobs submitted by other applications or clients. This can be considered a kind of \'rescue\' operation if something goes awry on the client machine.","source":"@site/docs/utility-functions/SLAM_download_job.md","sourceDirName":"utility-functions","slug":"/utility-functions/SLAM_download_job","permalink":"/utility-functions/SLAM_download_job","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":20,"frontMatter":{"sidebar_position":20},"sidebar":"tutorialSidebar","previous":{"title":"SLAM_list_jobs","permalink":"/utility-functions/SLAM_list_jobs"},"next":{"title":"SLAM_mapping_template","permalink":"/utility-functions/SLAM_mapping_template"}}');var s=o(4848),r=o(8453);const i={sidebar_position:20},l="SLAM_download_job",a={},d=[];function c(e){const n={a:"a",code:"code",h1:"h1",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"slam_download_job",children:"SLAM_download_job"})}),"\n",(0,s.jsx)(n.p,{children:"In case of client disconnection, Speediful can re-download bulk jobs that it submitted. This process will not work with jobs submitted by other applications or clients. This can be considered a kind of 'rescue' operation if something goes awry on the client machine."}),"\n",(0,s.jsxs)(n.p,{children:["For ",(0,s.jsx)(n.strong,{children:"bulk query jobs"}),", the response will be downloaded to the destination table specified in ",(0,s.jsx)(n.code,{children:"@table"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["For ",(0,s.jsx)(n.strong,{children:"Bulk v1 load jobs"}),", set ",(0,s.jsx)(n.code,{children:"@table"})," to the name of the input table from the originating load operation otherwise the operation will fail. The Id and SLAM_message columns will be updated"]}),"\n",(0,s.jsxs)(n.p,{children:["For ",(0,s.jsx)(n.strong,{children:"Bulk v2 load jobs"}),", three tables will be created based on the ",(0,s.jsx)(n.code,{children:"@table"})," parameter to store the result of the job:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"<table_name>_successful"}),"\n",(0,s.jsx)(n.li,{children:"<table_name>_failed"}),"\n",(0,s.jsx)(n.li,{children:"<table_name>_unprocessed"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"These can be manually correlated back to the input table via the External Id"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"@job_id"})," NVARCHAR, required - Salesforce bulk job ID to download results for (either 15 or 18-character id)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"@table"})," NVARCHAR, required","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"For bulk query jobs: Destination table for query results"}),"\n",(0,s.jsx)(n.li,{children:"For Bulk v1 load jobs: The original input table name, otherwise the operation will fail"}),"\n",(0,s.jsx)(n.li,{children:"For Bulk v2 load jobs: Desired destination table root name. Three result tables will be created from it"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"@exists_action"})," VARCHAR(20), optional - Action to take if the destination table name(s) specified by ",(0,s.jsx)(n.code,{children:"@table"})," are already taken. Applicable to Bulk queries and Bulk v2 load jobs only. If NULL, uses the value from ",(0,s.jsx)(n.a,{href:"../Speediful%20Tables#default_exists_action",children:(0,s.jsx)(n.code,{children:"SLAM_Settings.default_exists_action"})})," (defaulted to 'drop' during initial setup). Valid options: 'drop', 'rename', 'fail', 'append'"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Usage Examples:"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Bulk Query"})," - Download results from a completed Bulk v1 or Bulk v2 query job:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"EXEC dbo.SLAM_query_bulk\r\n    @query = 'Account',\r\n    @table = 'Account_query'\r\n\r\n-- Some interruption happens during query job\r\n\r\nEXEC dbo.SLAM_download_job\r\n    @job_id = '7503C00123456789AAA',\r\n    @table = 'Account_query'\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Bulk v1"})," - Download results from a completed data load job:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"EXEC dbo.SLAM_load_bulk\r\n    @sObject = 'Account',\r\n    @table = 'Account_LOAD',\r\n    @operation = 'insert'\r\n\r\n-- Some interruption happens during loading process\r\n\r\nEXEC dbo.SLAM_download_job\r\n    @job_id = '7504D00987654321AAA',\r\n    @table = 'Account_LOAD'\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Bulk v2"})," - Download results from a completed data load job:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"EXEC dbo.SLAM_load_bulkv2\r\n    @sObject = 'Account',\r\n    @table = 'Account_LOAD',\r\n    @operation = 'insert'\r\n\r\n-- Some interruption happens during loading process\r\n\r\nEXEC dbo.SLAM_download_job\r\n    @job_id = '7504D00987654321AAA',\r\n    @table = 'Account_LOAD_results'\r\n\r\nSELECT * FROM Account_LOAD_results_successful\r\nSELECT * FROM Account_LOAD_results_failed\r\nSELECT * FROM Account_LOAD_results_unprocessed\n"})})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},8453:(e,n,o)=>{o.d(n,{R:()=>i,x:()=>l});var t=o(6540);const s={},r=t.createContext(s);function i(e){const n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);