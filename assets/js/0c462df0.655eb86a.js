"use strict";(globalThis.webpackChunkspeediful_docs=globalThis.webpackChunkspeediful_docs||[]).push([[9806],{2229:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>d,default:()=>u,frontMatter:()=>a,metadata:()=>r,toc:()=>h});const r=JSON.parse('{"id":"utility-functions/SLAM_table_template","title":"SLAM_table_template","description":"Overview","source":"@site/docs/utility-functions/SLAM_table_template.mdx","sourceDirName":"utility-functions","slug":"/utility-functions/SLAM_table_template","permalink":"/utility-functions/SLAM_table_template","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":40,"frontMatter":{"sidebar_position":40},"sidebar":"tutorialSidebar","previous":{"title":"SLAM_mapping_template","permalink":"/utility-functions/SLAM_mapping_template"},"next":{"title":"SLAM_merge","permalink":"/utility-functions/SLAM_merge"}}');var s=n(4848),i=n(8453),o=n(8787),l=n(5120);const a={sidebar_position:40},d="SLAM_table_template",c={},h=[{value:"Overview",id:"overview",level:2},{value:"Parameters",id:"parameters",level:2},{value:"Usage Examples",id:"usage-examples",level:2}];function p(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"slam_table_template",children:"SLAM_table_template"})}),"\n",(0,s.jsx)(t.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsx)(t.p,{children:"Creates a SQL table with appropriate data types for the provided Salesforce object and operation type. The CREATE TABLE statement is also printed to the output."}),"\n",(0,s.jsxs)(t.p,{children:["Always use one of these tables to stage data for a Speediful load operation and pass it as the ",(0,s.jsx)(t.code,{children:"@table"}),' parameter. Populate this table by selecting and transforming "source data" as necessary. Supplying "source data" directly to Speediful for load operations will often result in errors due to incompatible data or data types.']}),"\n",(0,s.jsx)(t.p,{children:"This approach serves two very important purposes:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"Greatly reduces errors when the Salesforce load, update or delete is run because the data must be in the correct format and type"}),"\n",(0,s.jsx)(t.li,{children:"Allows for a check point prior to sending information to Salesforce. The data can be reviewed to ensure completeness and correctness"}),"\n"]}),"\n",(0,s.jsx)(t.admonition,{type:"important",children:(0,s.jsx)(t.p,{children:"It is MUCH easier to fix an issue in these staging tables than trying to recover a half complete Salesforce load"})}),"\n",(0,s.jsx)(t.h2,{id:"parameters",children:"Parameters"}),"\n",(0,s.jsx)(o.A,{children:(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Name"}),(0,s.jsx)(t.th,{children:"Type"}),(0,s.jsx)(t.th,{children:"Default"}),(0,s.jsx)(t.th,{children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"@sObject"})}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"NVARCHAR"})}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.strong,{children:"Required"})}),(0,s.jsx)(t.td,{children:"Salesforce object name to create template for"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"@operation"})}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"NVARCHAR"})}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.strong,{children:"Required"})}),(0,s.jsxs)(t.td,{children:["Operation type (",(0,s.jsx)(t.code,{children:"'insert'"}),", ",(0,s.jsx)(t.code,{children:"'update'"}),", ",(0,s.jsx)(t.code,{children:"'upsert'"}),", ",(0,s.jsx)(t.code,{children:"'delete'"}),", ",(0,s.jsx)(t.code,{children:"'hardDelete'"}),", ",(0,s.jsx)(t.code,{children:"'undelete'"}),")"]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"@table"})}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"NVARCHAR"})}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.strong,{children:"Required"})}),(0,s.jsx)(t.td,{children:"Target SQL table name to create"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"@exists_action"})}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"VARCHAR(20)"})}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"NULL"})}),(0,s.jsxs)(t.td,{children:["Controls the behavior when the destination table name, specified by ",(0,s.jsx)(t.code,{children:"@table"})," is already used. If NULL, uses the value from ",(0,s.jsx)(t.a,{href:"../Speediful%20Configuration%20Tables#default_exists_action",children:(0,s.jsx)(t.code,{children:"SLAM_Settings.default_exists_action"})})," (defaulted to ",(0,s.jsx)(t.code,{children:"'drop'"})," during initial setup).",(0,s.jsx)(l.Ay,{})]})]})]})]})}),"\n",(0,s.jsx)(t.h2,{id:"usage-examples",children:"Usage Examples"}),"\n",(0,s.jsx)(t.p,{children:"Create template for inserting new Account records:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-sql",children:"EXEC dbo.SLAM_table_template\r\n    @sObject = 'Account',\r\n    @operation = 'insert',\r\n    @table = 'Account_insert_template';\n"})}),"\n",(0,s.jsx)(t.p,{children:"Create template for updating existing Contact records:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-sql",children:"EXEC dbo.SLAM_table_template\r\n    @sObject = 'Contact',\r\n    @operation = 'update',\r\n    @table = 'Contact_update_template';\n"})}),"\n",(0,s.jsx)(t.p,{children:"Create template for upserting Opportunity records:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-sql",children:"EXEC dbo.SLAM_table_template\r\n    @sObject = 'Opportunity',\r\n    @operation = 'upsert',\r\n    @table = 'Opportunity_upsert_template';\n"})})]})}function u(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(p,{...e})}):p(e)}},5120:(e,t,n)=>{n.d(t,{Ay:()=>o});var r=n(4848),s=n(8453);function i(e){const t={code:"code",p:"p",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("br",{}),"\n",(0,r.jsx)("br",{}),"\n",(0,r.jsxs)(t.p,{children:["Valid options:\r\n",(0,r.jsxs)("ul",{children:[(0,r.jsxs)("li",{children:[(0,r.jsx)(t.code,{children:"'drop'"})," - Drop the existing object and create a new one (default)"]}),"\r\n",(0,r.jsxs)("li",{children:[(0,r.jsx)(t.code,{children:"'rename'"})," - Rename the existing object by appending a timestamp suffix (format: ",(0,r.jsx)(t.code,{children:"_YYYYMMDDTHHMMSS_MMM"}),")"]}),"\r\n",(0,r.jsxs)("li",{children:[(0,r.jsx)(t.code,{children:"'fail'"})," - Throws a SQL exception if the destination object already exists"]})]})]})]})}function o(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(i,{...e})}):i(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>o,x:()=>l});var r=n(6540);const s={},i=r.createContext(s);function o(e){const t=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),r.createElement(i.Provider,{value:t},e.children)}},8787:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(6540),s=n(3427),i=n(6347);const o={apiTable:"apiTable_e8hp"};var l=n(4848);function a({name:e,children:t},n){const o=function(e){let t=e;for(;(0,r.isValidElement)(t);)[t]=r.Children.toArray(t.props.children);if("string"!=typeof t)throw new Error(`Could not extract APITable row name from JSX tree:\n${JSON.stringify(e,null,2)}`);return t}(t),a=e?`${e}-${o}`:o,d=`#${a}`,c=(0,i.W6)();return(0,s.A)().collectAnchor(a),(0,l.jsx)("tr",{id:a,tabIndex:0,ref:c.location.hash===d?n:void 0,onClick:e=>{const t="TD"===e.target.tagName.toUpperCase(),n=!!window.getSelection()?.toString();if(t&&!n){const e=window.scrollX,t=window.scrollY;c.push(d),window.scrollTo(e,t),requestAnimationFrame(()=>{window.scrollTo(e,t)})}},onKeyDown:e=>{if("Enter"===e.key){const e=window.scrollX,t=window.scrollY;c.push(d),window.scrollTo(e,t),requestAnimationFrame(()=>{window.scrollTo(e,t)})}},children:t.props.children})}const d=r.forwardRef(a);function c({children:e,name:t}){if("table"!==e.type)throw new Error("Bad usage of APITable component.\nIt is probably that your Markdown table is malformed.\nMake sure to double-check you have the appropriate number of columns for each table row.");const[n,s]=r.Children.toArray(e.props.children),i=(0,r.useRef)(null);(0,r.useEffect)(()=>{i.current&&(i.current.focus(),i.current.scrollIntoView({behavior:"smooth",block:"center"}))},[]);const a=r.Children.map(s.props.children,e=>(0,l.jsx)(d,{name:t,ref:i,children:e}));return(0,l.jsxs)("table",{className:o.apiTable,children:[n,(0,l.jsx)("tbody",{children:a})]})}}}]);