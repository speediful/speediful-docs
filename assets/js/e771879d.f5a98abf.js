"use strict";(globalThis.webpackChunkspeediful_docs=globalThis.webpackChunkspeediful_docs||[]).push([[271],{1807:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>u,frontMatter:()=>l,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"query-operations/SLAM_query_by_id","title":"SLAM_query_by_id","description":"SLAMqueryby_id","source":"@site/docs/query-operations/SLAM_query_by_id.md","sourceDirName":"query-operations","slug":"/query-operations/SLAM_query_by_id","permalink":"/speediful-docs/query-operations/SLAM_query_by_id","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":60,"frontMatter":{"sidebar_position":60},"sidebar":"tutorialSidebar","previous":{"title":"SLAM_query_soap","permalink":"/speediful-docs/query-operations/SLAM_query_soap"},"next":{"title":"SLAM_replicate","permalink":"/speediful-docs/query-operations/SLAM_replicate"}}');var s=t(4848),i=t(8453);const l={sidebar_position:60},a=void 0,o={},d=[{value:"SLAM_query_by_id",id:"slam_query_by_id",level:3}];function c(e){const n={a:"a",code:"code",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h3,{id:"slam_query_by_id",children:"SLAM_query_by_id"}),"\n",(0,s.jsx)(n.p,{children:"This specialized query operation filters Salesforce data based on IDs provided in a filter table. It automatically handles SOQL length limitations by batching IDs and uses efficient IN clause filtering. The table is overwritten if it already exists."}),"\n",(0,s.jsx)(n.p,{children:"The most common use-cases will apply to Salesforce objects that require filters when querying, e.g. ContentDocumentLink"}),"\n",(0,s.jsxs)(n.p,{children:["You may also use this procedure to filter by other text fields, such as external ids. You must ensure any data is ",(0,s.jsx)(n.a,{href:"https://developer.salesforce.com/docs/atlas.en-us.soql_sosl.meta/soql_sosl/sforce_api_calls_soql_select_quotedstringescapes.htm",children:"properly escaped"})," as required by Salesforce"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Performance tip:"})," This procedure is designed for querying specific records when you have a list of IDs. It automatically batches IDs to stay within SOQL length limits and can handle large sets of IDs."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"@query"})," NVARCHAR, required - sObject name or SOQL query string. When just an sObject name is passed, queries all records & fields"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"@table"})," VARCHAR, required - Target SQL table name for results"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"@filter_table"})," VARCHAR, required - Source table containing IDs to filter by (must have an ID column)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"@queryall"})," BIT, default 0 - When 1, includes deleted/archived records"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"@exists_action"})," VARCHAR(20), optional - Action to take if the target object name specified by ",(0,s.jsx)(n.code,{children:"@table"})," is already taken. If NULL, uses the value from ",(0,s.jsx)(n.a,{href:"../SLAM%20Tables#default_exists_action",children:(0,s.jsx)(n.code,{children:"SLAM_Settings.default_exists_action"})})," (defaulted to 'drop' during initial setup). Valid options: 'drop', 'rename', 'fail', 'append'"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Usage Examples:"})}),"\n",(0,s.jsx)(n.p,{children:"Query ContentDocumentLink records by ContentDocumentId using a filter table:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"-- prepare filter table from ContentDocument records\r\nEXEC dbo.SLAM_query_soap\r\n    @query = 'SELECT Id FROM ContentDocument LIMIT 600',\r\n    @table = 'ContentDocument_query'\r\n\r\nCREATE TABLE ContentDocumentLink_filter(ContentDocumentId VARCHAR(18))\r\nINSERT INTO ContentDocumentLink_filter(ContentDocumentId)\r\nSELECT Id FROM ContentDocument_query\r\n\r\nEXEC dbo.SLAM_query_by_id\r\n    @query = 'ContentDocumentLink',\r\n    @table = 'ContentDocumentLink_filtered',\r\n    @filter_table = 'ContentDocumentLink_filter'\n"})}),"\n",(0,s.jsx)(n.p,{children:"Query with deleted records included:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"-- prepare filter table\r\nCREATE TABLE Lead_filter(Id VARCHAR(18))\r\nINSERT INTO Lead_filter(Id)\r\n    <OUTPUT STATEMENT>\r\n\r\n-- execute query\r\nEXEC dbo.SLAM_query_by_id\r\n    @query = 'SELECT Id, Name, Email, Status, IsDeleted FROM Lead',\r\n    @table = 'Lead_filtered',\r\n    @filter_table = 'Lead_filter',\r\n    @queryall = 1\n"})}),"\n",(0,s.jsx)(n.p,{children:"Query specific Contact fields using external ID filter:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"-- prepare filter table\r\nCREATE TABLE Contact_External_IDs(External_Id__c VARCHAR(255))\r\nINSERT INTO Contact_External_IDs(External_Id__c)\r\n    VALUES ('ExtId123'), ('ExtId456')\r\n\r\n-- execute query\r\nEXEC dbo.SLAM_query_by_id\r\n    @query = 'SELECT Id, Name, Email, Account.Name FROM Contact',\r\n    @table = 'Contact_filtered',\r\n    @filter_table = 'Contact_External_IDs'\n"})})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>l,x:()=>a});var r=t(6540);const s={},i=r.createContext(s);function l(e){const n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);